./orphaned_sessions
./orphaned_sessions/populate_orphan_sessions.py
	Populate sessions (pre 01/04/2017 migration) that had no events attached to them. Output are partial batch sql files to insert a new session, a "page rendered" event, and session attributes as they are available
./orphaned_sessions/populate_orphan_sessions.sh
	Utility to run sql files generated by populate_orphan_sessions.sh

./saved_procedure
./saved_procedure/remove_extra_sessions.sql
	Routine to identify sessions that have no events attached, limited to 1000 at a time and created at before migration. The limit is due to mysql performance decreases when attempting to delete more
./saved_procedure/update_forms_with_session_id.sql
	Routine to identify events in a form, and populate the form with the same session id as found in the event. 
./saved_procedure/remove_extra_sessions.sh
	Utility to run remove_extra_sessions.sql repeatedly with seconds in between.

./migrate
./migrate/migrate_session.sh
	Utility to run all session update sql's.
./migrate/populate_attributes.py
	Script to collect the events belonging to each session. Then aggregate the url query string parameters of all urls related to collected events in order to update session_attributes.
./migrate/migrate_events.sh
	Utility to run all events update sql's. 
./migrate/populate_session.py
	Script generates one or more session insert for each arrival found pre migration. The routine is as such:
		1. Identify events associated with arrival
		2. Place events into 24 hours buckets
		3. For each bucket, create a new session, and assign events to that session(generate update statements)
		4. Additionally, identify if session should be a robot based on robot id

NOTE: 1/20/2017
	The order these scripts should be run are:
		1) ./migrate/populate_session.poy
		2) ./migrate/migrate_session.sh
		3) ./migrate/migrate_events.sh
		4) ./migrate/populate_attributes.py
		5) ./saved_procedure/remove_extra_sessions.sql
		6) ./saved_procedure/remove_extra_sessions.sh
		7) ./saved_procedure/update_forms_with_session_id.sql
		8) ./orphaned_sessions/populate_orphan_sessions.py
		9) ./orphaned_sessions/populate_orphan_sessions.sh
	esmigrate refers to backed up version of easiersolar from 01/04/2017
